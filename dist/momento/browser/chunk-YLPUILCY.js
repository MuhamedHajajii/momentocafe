import{a as K}from"./chunk-J5T64UEY.js";import{a as me}from"./chunk-Z6LY7KLA.js";import{a as $,k as z}from"./chunk-5KW6AJKJ.js";import{b as U,c as u,d as X,e as Z,f as ee,g,h as te,i as ie,j as ne,l as re}from"./chunk-Z73Y6US4.js";import{i as Q,n as W,p as k}from"./chunk-KBVEJEPL.js";import{Fb as i,Gb as c,Hb as F,Mb as J,Nb as f,Pa as l,Qa as x,R as B,W as R,_ as j,eb as _,gb as p,ha as y,ia as O,kb as s,lb as L,nb as Y,ob as G,pb as t,qb as e,rb as C,ta as D,vb as H,wb as b,xb as E}from"./chunk-RBO2PLDI.js";import{e as ae}from"./chunk-CWTPBX7D.js";var oe=ae(me());var le=(()=>{let o=class o{constructor(a){this._HttpClient=a}sendOrder(a){return this._HttpClient.post("https://script.google.com/macros/s/AKfycbxG3iw5Q1Hb4p8fKs44-CrO79kdNr3uSGJ7Jg6Yz5QHAPF-TTyMhyyx_qxIDSQ4j0o4/exec",JSON.stringify(a))}};o.\u0275fac=function(d){return new(d||o)(R($))},o.\u0275prov=B({token:o,factory:o.\u0275fac,providedIn:"root"});let r=o;return r})();var S=r=>({"is-invalid":r});function ce(r,o){r&1&&(t(0,"p",5),i(1,"required*"),e())}function pe(r,o){r&1&&(t(0,"p",5),i(1,"required*"),e())}function ue(r,o){r&1&&(t(0,"p",5),i(1,"Please Enter A Valid Email*"),e())}function _e(r,o){r&1&&(t(0,"p",5),i(1,"required*"),e())}function Ce(r,o){r&1&&(t(0,"p",5),i(1," Please Enter A Valid Phone Number* "),e())}function fe(r,o){r&1&&(t(0,"p",5),i(1,"required*"),e())}function ge(r,o){if(r&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e()()),r&2){let m=o.$implicit;l(2),c(m.name),l(2),c(m.count),l(2),F("",m.Price*m.count," .LE")}}function he(r,o){if(r&1){let m=H();t(0,"div",18),b("click",function(){y(m);let d=E();return O(d.toggleLightBox())}),t(1,"div",19),b("click",function(d){y(m);let n=E();return O(n.stopProp(d))}),t(2,"div",20)(3,"h2",21)(4,"span",22),i(5,"Check Order Details"),e()(),t(6,"p",23)(7,"span",24),i(8,"Name"),e(),t(9,"span",25),i(10,":"),e(),t(11,"span",26),i(12),e()(),t(13,"p",23)(14,"span",24),i(15,"Email"),e(),t(16,"span",25),i(17,":"),e(),t(18,"span",26),i(19),e()(),t(20,"p",23)(21,"span",24),i(22,"Phone"),e(),t(23,"span",25),i(24,":"),e(),t(25,"span",26),i(26),e()(),t(27,"p",23)(28,"span",24),i(29,"Address"),e(),t(30,"span",25),i(31,":"),e(),t(32,"span",26),i(33),e()(),t(34,"p",23)(35,"span",24),i(36,"Remarks"),e(),t(37,"span",25),i(38,":"),e(),t(39,"span",26),i(40),e()(),t(41,"table",27)(42,"thead")(43,"tr")(44,"th"),i(45,"item:"),e(),t(46,"th"),i(47,"count:"),e(),t(48,"th"),i(49,"price:"),e()()(),t(50,"tbody"),Y(51,ge,7,3,"tr",null,L),e(),t(53,"tfoot")(54,"tr")(55,"td"),i(56,"Total:"),e(),t(57,"td",28),i(58),e()()()(),t(59,"div",29)(60,"button",30),b("click",function(){y(m);let d=E();return O(d.sendOrder())}),i(61,"Order Now"),e()()()()()}if(r&2){let m=E();l(12),c(m.finalOrder.details.Clint_Name),l(7),c(m.finalOrder.details.Clint_Email),l(7),c(m.finalOrder.details.Clint_Phone),l(7),c(m.finalOrder.details.Clint_Address),l(7),c(m.finalOrder.details.Clint_Remarks),l(11),G(m.finalOrder.order.order_Details),l(7),F("",m.finalOrder.order.Total," .LE")}}var Ne=(()=>{let o=class o{constructor(a,d,n,h){this.platformId=a,this._OnlineordersService=d,this._Router=n,this._CartService=h,this.startValidation=!1,this.lightBoxFlag=!1,this.orderForm=new ee({Clint_Name:new g("",[u.required]),Clint_Email:new g("",[u.required,u.email]),Clint_Phone:new g("",[u.required,u.pattern("^01[0125][0-9]{8}$")]),Clint_Address:new g("",[u.required]),Clint_Remarks:new g("")})}ngOnInit(){this.getCurrentOrderDetails()}getCurrentOrderDetails(){k(this.platformId)&&(this.order=JSON.parse(sessionStorage.getItem("order")))}onSubmit(){this.startValidation=!0,this.orderForm.valid&&(this.finalOrder={order:this.order,details:this.orderForm.value},this.toggleLightBox())}sendOrder(){this._OnlineordersService.sendOrder(this.finalOrder).subscribe({next:a=>{console.log(a.message),this.toggleLightBox(),k(this.platformId)&&sessionStorage.removeItem("order"),this._CartService.currentOrder.next([]),this.alertWithSuccess(a.message)},error:a=>{console.log(a)}})}alertWithSuccess(a){oe.default.fire("Moments' Will be in touch with you ASAP",`${a}
      
      `,"success").then(()=>{this._Router.navigate(["/"])})}toggleLightBox(){this.lightBoxFlag=!this.lightBoxFlag}stopProp(a){a.stopPropagation()}};o.\u0275fac=function(d){return new(d||o)(x(D),x(le),x(z),x(K))},o.\u0275cmp=j({type:o,selectors:[["app-cart"]],standalone:!0,features:[J],decls:46,vars:23,consts:[[1,"container","my-4"],[3,"ngSubmit","formGroup"],[1,"my-2"],[1,"d-flex","justify-content-between","align-items-center"],["for","Clint_Name",1,"form-label","mb-1"],[1,"mb-0","text-danger","fw-bold"],["formControlName","Clint_Name","type","text","name","Clint_Name","id","Clint_Name","autocomplete","name","placeholder","Enter Your Name","aria-required","true","aria-label","Full Name","aria-describedby","Your Full Name",1,"form-control",3,"ngClass"],["id","clientNameHelp",1,"form-text","text-muted"],["for","Clint_Email",1,"form-label","mb-1"],["formControlName","Clint_Email","type","email","name","Clint_Email","id","Clint_Email","autocomplete","email","placeholder","ex. momento@gmail.com","aria-required","true","aria-label","Email","aria-describedby","Your Email",1,"form-control",3,"ngClass"],["for","Clint_Phone",1,"form-label","mb-1"],["formControlName","Clint_Phone","type","tel","name","Clint_Phone","id","Clint_Phone","autocomplete","tel","placeholder","ex. 010012345678","aria-required","true","aria-label","Phone Number","aria-describedby","Your Phone Number",1,"form-control",3,"ngClass"],["for","Clint_Address",1,"form-label","mb-1"],["formControlName","Clint_Address","type","text","name","Clint_Address","id","Clint_Address","autocomplete","address-level1","placeholder","ex. burj el arab - el saeedi - behind moataz pharmacy","aria-required","true","aria-label","Address","aria-describedby","Your Address",1,"form-control",3,"ngClass"],["for","Clint_Remarks",1,"form-label","mb-1"],["formControlName","Clint_Remarks","type","text","name","Clint_Remarks","id","Clint_Remarks","autocomplete","off","placeholder","any remarks if there","aria-required","true","aria-label","Remarks","aria-describedby","Your Remarks",1,"form-control",3,"ngClass"],[1,"btn-main"],[1,"LightBoxContainer"],[1,"LightBoxContainer",3,"click"],[1,"lightBoxContent","overflow-y-scroll",3,"click"],[1,"card","p-3","w-100"],[1,"text-center"],[1,"border-bottom","border-3","mb-2"],[1,"row","flex-nowrap"],[1,"col-5"],[1,"col-1"],[1,"col-6"],[1,"table","text-center"],["colspan","2"],[1,"my-2","text-center"],[1,"btn-main","px-4",3,"click"]],template:function(d,n){if(d&1&&(t(0,"section")(1,"div",0)(2,"form",1),b("ngSubmit",function(){return n.onSubmit()}),t(3,"div",2)(4,"div",3)(5,"label",4),i(6,"Name:"),e(),_(7,ce,2,0,"p",5),e(),C(8,"input",6),t(9,"small",7),i(10,"Please enter the full name."),e()(),t(11,"div",2)(12,"div",3)(13,"label",8),i(14,"Email:"),e(),_(15,pe,2,0,"p",5)(16,ue,2,0,"p",5),e(),C(17,"input",9),t(18,"small",7),i(19,"Please enter Your Email."),e()(),t(20,"div",2)(21,"div",3)(22,"label",10),i(23,"Phone:"),e(),_(24,_e,2,0,"p",5)(25,Ce,2,0,"p",5),e(),C(26,"input",11),t(27,"small",7),i(28,"Please enter Your Phone Number."),e()(),t(29,"div",2)(30,"div",3)(31,"label",12),i(32,"Address:"),e(),_(33,fe,2,0,"p",5),e(),C(34,"input",13),t(35,"small",7),i(36,"please enter your address and describe the directions."),e()(),t(37,"div",2)(38,"div",3)(39,"label",14),i(40,"Remarks:"),e()(),C(41,"textarea",15),e(),t(42,"div",2)(43,"button",16),i(44,"Confirm Order"),e()()()()(),_(45,he,62,6,"div",17)),d&2){let h,N,w,V,v,I,M,P,T,q,A;l(2),p("formGroup",n.orderForm),l(5),s(7,(h=n.orderForm.get("Clint_Name"))!=null&&h.getError("required")&&n.startValidation?7:-1),l(),p("ngClass",f(13,S,((N=n.orderForm.get("Clint_Name"))==null?null:N.getError("required"))&&n.startValidation)),l(7),s(15,(w=n.orderForm.get("Clint_Email"))!=null&&w.getError("required")&&n.startValidation?15:-1),l(),s(16,(V=n.orderForm.get("Clint_Email"))!=null&&V.getError("email")&&n.startValidation?16:-1),l(),p("ngClass",f(15,S,((v=n.orderForm.get("Clint_Email"))==null?null:v.getError("required"))&&n.startValidation||((v=n.orderForm.get("Clint_Email"))==null?null:v.getError("email"))&&n.startValidation)),l(7),s(24,(I=n.orderForm.get("Clint_Phone"))!=null&&I.getError("required")&&n.startValidation?24:-1),l(),s(25,(M=n.orderForm.get("Clint_Phone"))!=null&&M.getError("pattern")&&n.startValidation?25:-1),l(),p("ngClass",f(17,S,((P=n.orderForm.get("Clint_Phone"))==null?null:P.getError("required"))&&n.startValidation||((P=n.orderForm.get("Clint_Phone"))==null?null:P.getError("pattern"))&&n.startValidation)),l(7),s(33,(T=n.orderForm.get("Clint_Address"))!=null&&T.getError("required")&&n.startValidation?33:-1),l(),p("ngClass",f(19,S,((q=n.orderForm.get("Clint_Address"))==null?null:q.getError("required"))&&n.startValidation)),l(7),p("ngClass",f(21,S,((A=n.orderForm.get("Clint_Remarks"))==null?null:A.getError("required"))&&n.startValidation)),l(4),s(45,n.lightBoxFlag?45:-1)}},dependencies:[re,te,U,X,Z,ie,ne,W,Q],styles:[".text-main-headers[_ngcontent-%COMP%]{font-family:Cairo,sans-serif}.Text-Main[_ngcontent-%COMP%]{color:#dc9e44}.Text-Secondary[_ngcontent-%COMP%]{color:#519aa7}.Text-Third[_ngcontent-%COMP%]{color:#5e5c5c}.AR[_ngcontent-%COMP%]{direction:rtl}.text-shadow[_ngcontent-%COMP%]{text-shadow:1px 1px #dc9e44}.Bg-Main[_ngcontent-%COMP%]{background-color:#dc9e44;color:#fff}.Bg-Secondary[_ngcontent-%COMP%]{background-color:#519aa7;color:#000}.Bg-Third[_ngcontent-%COMP%]{background-color:#5e5c5c;color:#000}.Bg-RGBA[_ngcontent-%COMP%]{background-color:#00000080}.border-main[_ngcontent-%COMP%]{border-color:#dc9e44}.border-secondary[_ngcontent-%COMP%]{border-color:#519aa7}[_nghost-%COMP%]     form * ::selection{background-color:#519aa7!important;color:#fff!important}[_nghost-%COMP%]     form * ::placeholder{opacity:.25}[_nghost-%COMP%]     ::-webkit-scrollbar-track{background-color:#519aa7}[_nghost-%COMP%]     ::-webkit-scrollbar-thumb{background-color:#dc9e44;border-radius:5px}[_nghost-%COMP%]     ::-webkit-scrollbar{width:10px}"]});let r=o;return r})();export{Ne as CartComponent};
